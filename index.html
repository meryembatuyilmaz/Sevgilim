<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalpli Snake ðŸ’—</title>

<style>
body {
  margin: 0;
  background: #111;
  overflow: hidden;
  touch-action: none;
  color: white;
  font-family: Arial, sans-serif;
}

#controls {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

#controls button {
  padding: 6px 12px;
  border: none;
  border-radius: 10px;
  background: #ff7eb9;
  color: white;
  font-size: 14px;
  margin: 0 4px;
}

canvas {
  display: block;
  margin: auto;
  background: #1c1c1c;
}
</style>
</head>

<body>

<div id="controls">
  <button onclick="slow()">âž– YavaÅŸ</button>
  <button onclick="fast()">âž• HÄ±zlÄ±</button>
</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const box = 20;
let snake = [{ x: 5, y: 5 }];
let direction = "RIGHT";

let heart = {
  x: Math.floor(Math.random() * (canvas.width / box)),
  y: Math.floor(Math.random() * (canvas.height / box))
};

let score = 0;
let speed = 150;
let gameLoop;

function startGame() {
  clearInterval(gameLoop);
  gameLoop = setInterval(draw, speed);
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.font = "18px Arial";
  ctx.fillText("ðŸ’—", heart.x * box, heart.y * box + 18);

  snake.forEach((part, i) => {
    ctx.fillStyle = i === 0 ? "#ff7eb9" : "#ffb3d9";
    ctx.fillRect(part.x * box, part.y * box, box, box);
  });

  let head = { ...snake[0] };
  if (direction === "LEFT") head.x--;
  if (direction === "RIGHT") head.x++;
  if (direction === "UP") head.y--;
  if (direction === "DOWN") head.y++;

  if (head.x === heart.x && head.y === heart.y) {
    score++;
    heart = {
      x: Math.floor(Math.random() * (canvas.width / box)),
      y: Math.floor(Math.random() * (canvas.height / box))
    };
  } else {
    snake.pop();
  }

  snake.unshift(head);

  ctx.fillStyle = "white";
  ctx.font = "16px Arial";
  ctx.fillText("Kalp: " + score, 10, 20);
}

// HÄ±z kontrol
function slow() {
  speed += 20;
  startGame();
}

function fast() {
  if (speed > 60) speed -= 20;
  startGame();
}

// Dokunma
let startX, startY;
canvas.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
});

canvas.addEventListener("touchend", e => {
  let dx = e.changedTouches[0].clientX - startX;
  let dy = e.changedTouches[0].clientY - startY;

  if (Math.abs(dx) > Math.abs(dy)) {
    direction = dx > 0 ? "RIGHT" : "LEFT";
  } else {
    direction = dy > 0 ? "DOWN" : "UP";
  }
});

startGame();
</script>

</body>
</html>
